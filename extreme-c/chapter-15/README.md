#### Потоки

Инициатор и постоянный владелец любого потока — процесс. Невозможно создать разделяемый 
поток или передать владением им другому процессу. У каждого процесса есть по меньше мере один поток, 
который называют главным или основным. В программе на языке C в рамках главного потока выполняется функция **main**.

Методы, с помощью которых потоки могут разделять или передавать состояние в POSIX-совместимой системе:
- память процесса-владельца (сегменты данных, стека и кучи). 
Этот метод применим только к потокам, но не к процессам;
- файловая система;
- отображение файлов в память;
- сеть (с использованием сетевых сокетов);
- передача сигналов между потоками;
- разделяемая память;
- POSIX-каналы;
- сокеты домена Unix;
- очереди сообщений POSIX;
- переменные среды.

Пользователь не может создать поток напрямую. Он должен сначала породить процесс, 
и только потом в главном потоке этого процесса можно будет инициировать еще один поток. 
Стоит отметить, что потоки могут создаваться лишь другими потоками.

Что касается структуры памяти потоков, то у каждого из них есть стек, который
можно считать приватной областью памяти, выделенной специально для него.
Однако на практике к данной области могут обращаться и другие потоки внутри
того же процесса; им для этого достаточно иметь указатель, ссылающийся на нее.

**Примечание:**
Создав поток, его необходимо присоединить. Что это значит?
Каждый процесс изначально имеет всего один, главный поток, родителем которого выступает процесс-владелец. 
Сам этот поток играет роль родителя для всех остальных потоков. Обычно процесс завершается вместе с главным потоком, 
а вслед за ним немедленно прекращают работу все другие активные и «спящие» потоки.

Таким образом, если новый поток еще не начал выполняться (поскольку не получил доступа к процессору), 
а родительский процесс тем временем завершился (неважно, по какой причине), он будет удален еще до выполнения своей первой
инструкции. Поэтому главный поток должен **присоединить** второй поток, чтобы подождать, пока тот не завершит работу.

Не присоединие потока, приведет к тому что он может не  выполниться. Это вызвано тем фактом, что главный поток завершается 
еще до начала выполнения в порожденном потоке. Для выполнения потока его недостаточно просто создать. 
До того как он получит доступ к ядру процессора и начнет работу, может пройти какое-то время. 
И если процесс успеет завершиться к этому моменту, то новый поток не получит возможности успешно выполниться.


